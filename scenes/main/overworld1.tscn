[gd_scene load_steps=7 format=3 uid="uid://c5vursst8mxjj"]

[ext_resource type="Texture2D" uid="uid://chaa5pqvil8ry" path="res://GameAssets/Textures/marsbgtest.jpg" id="1_a3jgl"]
[ext_resource type="Script" path="res://scenes/main/overworldgen.gd" id="1_x0rrk"]
[ext_resource type="PackedScene" uid="uid://dcq4awtwaie88" path="res://scenes/subscenes/player/Player3d.tscn" id="2_rt8it"]
[ext_resource type="MeshLibrary" uid="uid://ha0848fjfaro" path="res://GameAssets/GridMaps/2test.tres" id="4_gp0hy"]
[ext_resource type="PackedScene" uid="uid://bgxqr2cd6r4en" path="res://scenes/main/minigameMenu.tscn" id="5_bi56e"]
[ext_resource type="PackedScene" uid="uid://dgxgml0ql3st1" path="res://scenes/main/overworldMenu.tscn" id="6_gikdm"]

[node name="main" type="Node3D"]
script = ExtResource("1_x0rrk")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.770658, -0.493762, 0.402846, 0, 0.632165, 0.774834, -0.637249, -0.597132, 0.487183, 0, 0, 0)
light_color = Color(0.996078, 0.831373, 0.54902, 1)

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.61118)
texture = ExtResource("1_a3jgl")

[node name="CharacterBody3D" parent="." instance=ExtResource("2_rt8it")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.606686, -0.743117, 1.05052)

[node name="GridMap2" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.6482, 0)
mesh_library = ExtResource("4_gp0hy")
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="TouchScreenButton" type="TouchScreenButton" parent="."]
scale = Vector2(0.41092, 0.395408)
texture_normal = ExtResource("1_a3jgl")
action = "right"

[node name="minigameMenu" parent="." instance=ExtResource("5_bi56e")]
visible = false

[node name="overworldMenu" parent="." instance=ExtResource("6_gikdm")]
visible = false

[node name="tutorialLabel1" type="Label" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -270.5
offset_top = -26.0
offset_right = 270.5
offset_bottom = 26.0
grow_horizontal = 2
grow_vertical = 2
text = "Click the rover or press ESC to open the menu.
Click the left or right side of the screen or use the arrow keys to move."
horizontal_alignment = 1
vertical_alignment = 1

[node name="initialTimer" type="Timer" parent="."]
wait_time = 10.0
one_shot = true
autostart = true

[connection signal="paused" from="." to="CharacterBody3D" method="_on_main_paused"]
[connection signal="unpaused" from="." to="CharacterBody3D" method="_on_main_unpaused"]
[connection signal="pressed" from="CharacterBody3D" to="." method="_on_character_body_3d_pressed"]
[connection signal="minigameAbort" from="minigameMenu" to="." method="_on_minigame_menu_minigame_abort"]
[connection signal="minigameStart" from="overworldMenu" to="." method="_on_overworld_menu_minigame_start"]
[connection signal="unpause" from="overworldMenu" to="." method="_on_overworld_menu_unpause"]
[connection signal="timeout" from="initialTimer" to="." method="_on_timer_timeout"]
