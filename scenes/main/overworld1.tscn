[gd_scene load_steps=25 format=3 uid="uid://c5vursst8mxjj"]

[ext_resource type="Script" path="res://scenes/main/overworldgen.gd" id="1_x0rrk"]
[ext_resource type="MeshLibrary" uid="uid://b4nqokfur1x6n" path="res://GameAssets/GridMaps/COLLIDES.tres" id="3_3bg8v"]
[ext_resource type="PackedScene" uid="uid://dgxgml0ql3st1" path="res://scenes/main/overworldMenu.tscn" id="6_gikdm"]
[ext_resource type="PackedScene" uid="uid://c24lqhtlmlj1j" path="res://scenes/main/drillMinigame.tscn" id="6_jcsge"]
[ext_resource type="PackedScene" uid="uid://du25miaxbtdtg" path="res://scenes/main/airMinigame.tscn" id="6_ldkkf"]
[ext_resource type="Texture2D" uid="uid://b1hjcj32hf0vx" path="res://GameAssets/Textures/left.png" id="7_kyum0"]
[ext_resource type="Texture2D" uid="uid://c7a12gf58618w" path="res://GameAssets/Textures/2-second_closest_bg.png" id="8_5lmfh"]
[ext_resource type="Texture2D" uid="uid://cbjvep8a5ws3" path="res://GameAssets/Textures/leftpressed.png" id="8_oimym"]
[ext_resource type="Texture2D" uid="uid://dscjrnu3spwh" path="res://GameAssets/Textures/right.png" id="9_f4jbu"]
[ext_resource type="Texture2D" uid="uid://b8lpcksn4m4e8" path="res://GameAssets/Textures/3-middle_bg.png" id="9_oi4oj"]
[ext_resource type="Texture2D" uid="uid://dijpan02k428e" path="res://GameAssets/Textures/5-furthest_bg.png" id="10_mno6i"]
[ext_resource type="Texture2D" uid="uid://ln6bw11od555" path="res://GameAssets/Textures/rightpressed.png" id="10_nki3t"]
[ext_resource type="AudioStream" uid="uid://btwleesu8e85a" path="res://GameAssets/Sounds/TheScreamsOfTheDamned.wav" id="11_b6lg1"]
[ext_resource type="Texture2D" uid="uid://blj5luh0t1je6" path="res://GameAssets/Textures/settingsgear.png" id="11_nfftf"]
[ext_resource type="Texture2D" uid="uid://din7nfhnoy0qg" path="res://GameAssets/Textures/1-closest_bg_bigger.png" id="11_xsx5q"]
[ext_resource type="Texture2D" uid="uid://c5cas3l4jf5v2" path="res://GameAssets/Textures/settingsgearpressed.png" id="12_xgu7k"]
[ext_resource type="PackedScene" uid="uid://dcq4awtwaie88" path="res://GameAssets/Rover/Rover.tscn" id="15_3pkgi"]
[ext_resource type="Texture2D" uid="uid://barx8b72jnbtp" path="res://GameAssets/Textures/1-closest_bg_night.png" id="15_cxn22"]
[ext_resource type="Texture2D" uid="uid://csqcyqm5x2u75" path="res://GameAssets/Textures/5-furthest_bg_night.png" id="15_vxrhp"]
[ext_resource type="Texture2D" uid="uid://ce0hpri05mdp2" path="res://GameAssets/Textures/2-second_closest_bg_night.png" id="16_40u71"]
[ext_resource type="Texture2D" uid="uid://bf6rbdqv544d6" path="res://GameAssets/Textures/3-middle_bg_night.png" id="17_tq22u"]
[ext_resource type="Texture2D" uid="uid://2lbss5iqo3c7" path="res://GameAssets/Textures/4-second_furthest_bg_night.png" id="18_tauv4"]

[sub_resource type="Animation" id="Animation_jleew"]
resource_name = "fade"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_nfvvj"]
_data = {
"fade": SubResource("Animation_jleew")
}

[node name="main" type="Node3D"]
script = ExtResource("1_x0rrk")
drillgame = ExtResource("6_jcsge")
airgame = ExtResource("6_ldkkf")

[node name="Lighting" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.770658, -0.493762, 0.402846, 0, 0.632165, 0.774834, -0.637249, -0.597132, 0.487183, 0, 0, 0)
light_color = Color(0.996078, 0.831373, 0.54902, 1)

[node name="Rover" parent="." instance=ExtResource("15_3pkgi")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.00904)

[node name="GridMap2" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.6482, 0)
mesh_library = ExtResource("3_3bg8v")
data = {
"cells": PackedInt32Array(0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 65535, 0, 0, 65534, 0, 0, 65533, 0, 0, 65532, 0, 0, 4, 0, 1, 5, 0, 0, 6, 0, 0, 7, 0, 0, 8, 0, 0, 9, 0, 0, 10, 0, 0, 11, 0, 0, 12, 0, 0, 13, 0, 0, 14, 0, 0, 15, 0, 0)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="overworldMenu" parent="." instance=ExtResource("6_gikdm")]
visible = false

[node name="MUSIC BG" parent="overworldMenu/textBox/settings" index="3"]
offset_left = 232.0
offset_top = 72.0
offset_right = 385.0
offset_bottom = 123.0

[node name="MUSIC" parent="overworldMenu/textBox/settings" index="4"]
offset_left = 232.0
offset_right = 389.0

[node name="tutorialLabel1" type="Label" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -270.5
offset_top = -26.0
offset_right = 270.5
offset_bottom = 26.0
grow_horizontal = 2
grow_vertical = 2
text = "Click the rover or press ESC to open the menu.
Click the left or right side of the screen or use the arrow keys to move."
horizontal_alignment = 1
vertical_alignment = 1

[node name="initialTimer" type="Timer" parent="."]
wait_time = 5.5
one_shot = true
autostart = true

[node name="Buttons" type="Node" parent="."]

[node name="Left" type="TouchScreenButton" parent="Buttons"]
position = Vector2(3, 781)
scale = Vector2(0.41092, 0.395408)
texture_normal = ExtResource("7_kyum0")
texture_pressed = ExtResource("8_oimym")
action = "ui_left"

[node name="Right" type="TouchScreenButton" parent="Buttons"]
position = Vector2(162, 782)
scale = Vector2(0.41092, 0.395408)
texture_normal = ExtResource("9_f4jbu")
texture_pressed = ExtResource("10_nki3t")
action = "ui_right"

[node name="TouchScreenButton" type="TouchScreenButton" parent="Buttons"]
position = Vector2(1482, 3)
scale = Vector2(0.376667, 0.343333)
texture_normal = ExtResource("11_nfftf")
texture_pressed = ExtResource("12_xgu7k")
action = "menuButton"

[node name="Backgrounds Day" type="Node" parent="."]

[node name="Closest" type="Sprite3D" parent="Backgrounds Day"]
transform = Transform3D(1.86007, 0, 0, 0, 1, 0, 0, 0, 1, 290.454, 2.69059, -1.80229)
texture = ExtResource("11_xsx5q")

[node name="Closest2" type="Sprite3D" parent="Backgrounds Day"]
transform = Transform3D(3.8443, 0, 0, 0, 3.8443, 0, 0, 0, 3.8443, 290.454, 11.3324, -31.5748)
texture = ExtResource("8_5lmfh")

[node name="Closest3" type="Sprite3D" parent="Backgrounds Day"]
transform = Transform3D(12, 0, 0, 0, 12, 0, 0, 0, 12, 290.454, 30.4989, -48.2843)
texture = ExtResource("9_oi4oj")

[node name="Closest4" type="Sprite3D" parent="Backgrounds Day"]
transform = Transform3D(1, 0, 0, 0, 1.82209, 0, 0, 0, 1, 290.454, 3.51354, -68.7356)

[node name="Closest5" type="Sprite3D" parent="Backgrounds Day"]
transform = Transform3D(14.3915, 0, 0, 0, 12.483, 0, 0, 0, 0.994551, 290.454, 3.51354, -61.0186)
texture = ExtResource("10_mno6i")

[node name="Backgrounds Night" type="Node" parent="."]

[node name="ClosestNight" type="Sprite3D" parent="Backgrounds Night"]
transform = Transform3D(1.86007, 0, 0, 0, 1, 0, 0, 0, 1, 30.5783, 2.69059, -1.80229)
texture = ExtResource("15_cxn22")

[node name="Closest2Night" type="Sprite3D" parent="Backgrounds Night"]
transform = Transform3D(3.8443, 0, 0, 0, 3.8443, 0, 0, 0, 3.8443, 23.0064, 11.3324, -31.5748)
texture = ExtResource("16_40u71")

[node name="Closest3Night" type="Sprite3D" parent="Backgrounds Night"]
transform = Transform3D(12, 0, 0, 0, 12, 0, 0, 0, 12, 215.858, 30.4989, -48.2843)
texture = ExtResource("17_tq22u")

[node name="Closest4Night" type="Sprite3D" parent="Backgrounds Night"]
transform = Transform3D(1, 0, 0, 0, 1.82209, 0, 0, 0, 1, 215.858, 3.51354, -68.7356)
texture = ExtResource("18_tauv4")

[node name="Closest5Night" type="Sprite3D" parent="Backgrounds Night"]
transform = Transform3D(14.3915, 0, 0, 0, 12.483, 0, 0, 0, 0.994551, 215.858, 3.51354, -61.0186)
texture = ExtResource("15_vxrhp")

[node name="Sounds" type="Node" parent="."]

[node name="BackgroundMusic" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("11_b6lg1")
volume_db = -2.0
autoplay = true

[node name="ColorRect" type="ColorRect" parent="."]
visible = false
modulate = Color(0, 0, 0, 0)
z_index = 10
offset_right = 1600.0
offset_bottom = 896.0
mouse_filter = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="ColorRect"]
libraries = {
"": SubResource("AnimationLibrary_nfvvj")
}

[connection signal="minigameStart" from="overworldMenu" to="." method="_on_overworld_menu_minigame_start"]
[connection signal="unpause" from="overworldMenu" to="." method="_on_overworld_menu_unpause"]
[connection signal="toggled" from="overworldMenu/textBox/settings/SFX" to="Rover/Sound" method="_on_sfx_toggled"]
[connection signal="toggled" from="overworldMenu/textBox/settings/MUSIC" to="." method="_on_music_toggled"]
[connection signal="timeout" from="initialTimer" to="." method="_on_timer_timeout"]

[editable path="Rover"]
[editable path="Rover/Node3D/rover3"]
[editable path="overworldMenu"]
